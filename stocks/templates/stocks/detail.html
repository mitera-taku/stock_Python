<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>株価情報</title>
    {% load static %}  <!-- staticファイルを使うために必要 -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

<div class="container">
    <h1>{{ stock_symbol }} の株価情報 ({{ start_date }} から {{ end_date }}まで)</h1>

    <!-- AI予測値の表示 -->
    <div class="prediction-box">
        <h2>AI予測値</h2>
        <p>予測された次の日の終値: <strong>{{ predicted_price }}</strong></p>
    </div>

    <!-- 前日比の表示 -->
    <div class="change-box">
        <h2>前日比</h2>
        <p>前日の終値からの変動: {{ change_today|floatformat:2 }}円</p>
    </div>

    <!-- 株価データの表示 -->
    <div class="stock-data-box">
        {{ stock_data|safe }}
    </div>

    <!-- インタラクティブグラフの表示 -->
    <div class="graph-box">
        <h2>Bid/Ask 価格のグラフ</h2>
        {{ graph_html|safe }}  <!-- Safeフィルターを使用 -->
    </div>
    
    <!-- 戻るボタン -->
    <div class="back-button-box">
        <button onclick="window.history.back()">戻る</button>  <!-- 戻るボタン -->
    </div>
</div>

</body>
</html>
